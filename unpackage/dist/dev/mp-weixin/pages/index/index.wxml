<view class="chat-container"><scroll-view class="message-list" scroll-y="true" scroll-top="{{b}}" bindscrolltoupper="{{c}}"><view wx:for="{{a}}" wx:for-item="item" wx:key="i" class="{{['message-item', item.j && 'message-self']}}"><view class="avatar"><image src="{{item.a}}" mode="aspectFill"></image></view><view class="message-content"><view wx:if="{{item.b}}" class="message-bubble">{{item.c}}</view><view wx:elif="{{item.d}}" class="message-bubble voice-message" bindtap="{{item.g}}"><text class="{{['iconfont', item.e && 'playing']}}">🔊</text> {{item.f}}'' </view><view class="message-time">{{item.h}}</view></view></view></scroll-view><view class="input-area"><view class="input-box"><input type="text" placeholder="请输入消息" bindconfirm="{{d}}" value="{{e}}" bindinput="{{f}}"/></view><view class="action-buttons"><button class="voice-btn" bindtouchstart="{{g}}" bindtouchend="{{h}}"><text class="iconfont">🎤</text></button><button class="send-btn" bindtap="{{i}}">发送</button></view></view></view>