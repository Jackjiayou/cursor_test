<view class="chat-container"><scroll-view class="message-list" scroll-y="true" scroll-top="{{b}}" bindscrolltoupper="{{c}}"><view wx:for="{{a}}" wx:for-item="item" wx:key="r" class="{{['message-item', item.s && 'message-self']}}"><view class="avatar"><image src="{{item.a}}" mode="aspectFill"></image></view><view class="message-content"><view wx:if="{{item.b}}" class="message-bubble">{{item.c}}</view><view wx:elif="{{item.d}}" class="message-bubble"><view class="voice-bar" bindtap="{{item.g}}"><view class="voice-content"><text class="{{['iconfont', item.e && 'playing']}}">🔊</text><text class="duration">{{item.f}}''</text></view></view><view wx:if="{{item.h}}" class="content-section"><view class="content-header"><text class="content-label">内容详情</text><view class="content-btn" catchtap="{{item.k}}"><text class="iconfont">{{item.i}}</text><text>{{item.j}}</text></view></view><view wx:if="{{item.l}}" class="content-details"><view wx:if="{{item.m}}" class="content-item"><text class="item-label">文字内容：</text><text class="item-text">{{item.n}}</text></view><view wx:if="{{item.o}}" class="content-item"><text class="item-label">评价：</text><text class="item-text">{{item.p}}</text></view></view></view></view><view class="message-time">{{item.q}}</view></view></view></scroll-view><view class="input-area"><view class="input-box"><input type="text" placeholder="请输入消息" bindconfirm="{{d}}" value="{{e}}" bindinput="{{f}}"/></view><view class="action-buttons"><button class="voice-btn" bindtouchstart="{{g}}" bindtouchend="{{h}}"><text class="iconfont">🎤</text></button><button class="send-btn" bindtap="{{i}}">发送</button></view></view></view>